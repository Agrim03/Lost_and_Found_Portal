<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Delhi Metro Lost and Found</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Barriecito&family=Caveat:wght@400..700&family=League+Spartan:wght@100..900&family=Oi&family=Reenie+Beanie&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- HEADER -->
  <div class="navbar">
    <div class="navbar-left">
      <p>Follow us on : </p>
      <ul class="navbar-left-list1">
        <li><a href="https://www.facebook.com/officialdmrc/" target="_blank"><img src="images/fb_icon.png" alt="FB" height="20"></a></li>
        <li><a href="https://www.instagram.com/officialdmrc/?hl=en" target="_blank"><img src="images/instagram_icon.png" alt="Insta" height="20"></a></li>
        <li><a href="https://x.com/OfficialDMRC" target="_blank"><img src="images/x_icon.png" alt="X" height="20"></a></li>
        <li><a href="https://apps.apple.com/in/app/delhi-metro-rail/id691105308" target="_blank"><img src="images/apple_logo.png" alt="Apple" height="20"></a></li>
        <li><a href="https://play.google.com/store/apps/details?id=com.sraoss.dmrc" target="_blank"><img src="images/playstore_icon.png" alt="Playstore" height="20"></a></li>
      </ul>
    </div>
  </div>

  <div class="header-main">
    <div class="header-left">
      <img src="images/dmrc_logo.png" alt="DMRC Logo" />
    </div>

    <div class="header-right">
      <div class="helpline">
        <img src="images/helpline.svg" alt="Helpline" height="15">
        Helpline <br>
        <span style="color: green; font-weight: bold;">155370</span>
      </div>

      <nav class="secondary-navbar">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="https://delhimetrorail.com/contact-us">Contact</a></li>
          <li><a href="https://delhimetrorail.com/facilities">Facilities</a></li>
          <li><a href="https://delhimetrorail.com/map">Maps</a></li>
          <li><a href="https://delhimetrorail.com/faq">FAQs</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <main class="lostfound-container">
    <div class="lostfound-left-column">
      <aside class="lostfound-sidebar">
        <h2>Actions</h2>
        <ul class="lostfound-sidebar-links">
          <li><i class="fa-regular fa-star"></i> <a href="lost.html">Report Lost item</a></li>
          <li><i class="fa-regular fa-star"></i> <a href="view.html">View Reports/ Search Item</a></li>
          <hr style="width: 90%; opacity: 70%;">
          <li><i class="fa-regular fa-star"></i> <a href="profile.html">Profile</a></li>
        </ul>
      </aside>
    </div>

    <div class="lostfound-main-area">
      <div class="lostfound-main-title-left">
        <p style="font-family: 'League Spartan', sans-serif; color: #b51d1d; text-align: center;">Found</p>
      </div>

      <div class="lostfound-floating-toggle" onclick="toggleOptions()">
        <img src="images/burger-bar.png">
      </div>

      <div class="lostfound-mobile-options-panel" id="lostfound-optionsPanel">
        <a href="lost.html">Report</a><br>
        <a href="filler.html">View Reports</a><br>
        <a href="profile.html">Profile</a><br>
      </div>

      <!-- FORM SECTION -->
      <div class="lostfound-container-form">
        <section class="lostfound-form-section">
          <form id="foundForm" enctype="multipart/form-data" method="POST">
            <label>Item Name <span style="color: red;">*</span></label>
            <input type="text" name="itemName" required placeholder="Text" />

            <label>Date & Time of Found Item <span style="color: red;">*</span></label>
            <input type="datetime-local" name="foundDate" required />

            <label for="line">Choose a line <span style="color: red;">*</span></label>
            <select id="line" name="line" onchange="updateStations()">
              <option value="" disabled selected>Select a Line</option>
              <option value="blue">Blue Line</option>
              <option value="red">Red Line</option>
              <option value="yellow">Yellow Line</option>
              <option value="pink">Pink Line</option>
              <option value="violet">Violet Line</option>
              <option value="magenta">Magenta Line</option>
              <option value="green">Green Line</option>
              <option value="grey">Grey Line</option>
              <option value="airport">Airport Express Line</option>
              <option value="rapid">Rapid Metro Gurgaon</option>
            </select>
            <span class="error" id="lineError"></span>

            <label for="station">Choose a Station: <span style="color: red;">*</span></label>
            <select id="station" name="station">
              <option value="" disabled selected>Select a Station</option>
            </select>
            <span class="error" id="stationError"></span>

            <label>Remarks (optional)</label>
            <textarea name="remarks" placeholder="Any extra details about the location or the item."></textarea>

            <div class="lostfound-file-upload-section">
              <label for="fileInput">File Upload (jpg, jpeg, png)</label>
              <input type="file" id="fileInput" name="image" accept=".jpg,.jpeg,.png" required />
            </div>

            <div class="lostfound-button-group">
              <button type="reset">Cancel</button>
              <button type="submit">Continue</button>
            </div>
          </form>
        </section>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <p>Â© 2025 Delhi Metro Rail Corporation Ltd. All rights reserved.</p>
    </div>
  </footer>

  <script>
    const stationsByLine = {
      blue: ["Dwarka", "Rajiv Chowk", "Noida Sector 18"],
      red: ["Rithala", "Kashmere Gate"],
      yellow: ["HUDA City Centre", "New Delhi"],
      pink: ["Lajpat Nagar", "Mayur Vihar"],
      violet: ["ITO", "Kalkaji Mandir"],
      magenta: ["Janakpuri West", "Botanical Garden"],
      green: ["Inderlok", "Kirti Nagar"],
      grey: ["Najafgarh", "Dhansa Bus Stand"],
      airport: ["New Delhi", "IGI Airport"],
      rapid: ["Cyber City", "Phase 3"]
    };

    function updateStations() {
      const line = document.getElementById("line").value;
      const stationSelect = document.getElementById("station");
      stationSelect.innerHTML = '<option value="" disabled selected>Select a Station</option>';
      (stationsByLine[line] || []).forEach((station) => {
        const opt = document.createElement("option");
        opt.value = station;
        opt.textContent = station;
        stationSelect.appendChild(opt);
      });
    }

    function toggleOptions() {
      const panel = document.getElementById("lostfound-optionsPanel");
      panel.classList.toggle("show");
    }

    document.getElementById("foundForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      const form = e.target;
      const formData = new FormData(form);

      try {
        const res = await fetch("/api/found", {
          method: "POST",
          body: formData
        });

        if (res.ok) {
          alert("Found item submitted successfully!");
          form.reset();
        } else {
          const err = await res.text();
          alert("Submission failed: " + err);
        }
      } catch (err) {
        console.error("Error submitting form:", err);
        alert("Submission failed.");
      }
    });
  </script>
</body>
</html>
<style>
  body {
    font-family: 'Lato', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
  }

  .navbar {
    background-color: #333;
    color: white;
    padding: 10px 20px;
  }

  .navbar-left {
    display: flex;
    align-items: center;
  }

  .navbar-left p {
    margin-right: 20px;
  }

  .navbar-left-list1 {
    list-style-type: none;
    display: flex;
    gap: 10px;
  }

  .navbar-left-list1 li a img {
    vertical-align: middle;
  }

  .header-main {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background-color: #fff;
  }

  .header-left img {
    height: 50px;
  }

  .header-right {
    text-align: right;
  }

  .helpline {
    font-size: small;
    color: #555;
  }

  .secondary-navbar ul {
    list-style-type: none;
    padding: 0;
    margin-top: 10px;
  }